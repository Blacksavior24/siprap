<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%- include ('partials/head.ejs') %>
</head>

<body>
  <div class="masthead">
    <div class="color-overlay d-flex justify-content-center align-items-center">
      <div class="col-lg-6 text-center text-white h4 mx-auto headText">
        <img src="/img/siprap.png" alt="" class="mx-auto d-block headPic" width="30%">
        <p class="mt-3">
          Sistema de Practicas Pre-profesionales de la Escuela de Arte Puno
        </p>
      </div>
    </div>
  </div>
  <div class="p-3">
    <div class="col-lg-8 mx-auto">
      <h4 class="mt-3">Accesos</h4>
      <hr class="bg-firstColor">
      <div class="row row-cols-1 row-cols-md-3 g-4 text-center">
        <div class="col">
          <div class="card h-100">
            <a data-bs-toggle="modal" data-bs-target="#estudianteLogin">
              <div class="card-body">
                <h5 class="card-title">Tesista</h5>
                <p class="card-text">
                  <ion-icon name="school-outline" size="large"></ion-icon>
                </p>
              </div>
            </a>
            <div class="modal fade" id="estudianteLogin" tabindex="-1" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Área de Estudiantes</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="">
                      <div class="mb-3 row">
                        <div class="col-sm-12">
                          <input class="form-control" type="email" placeholder="Ingrese su correo">
                        </div>
                      </div>
                      <div class="mb-3 row">
                        <div class="col-sm-12">
                          <input class="form-control" type="password" placeholder="Ingrese su contraseña">
                        </div>
                      </div>
                      <button type="submit" class="btn text-white bg-thirdColor ms-auto ">Ingresar</button>
                    </form>
                  </div>
                  <div class="modal-footer">
                    ¿Aún no tienes cuenta?
                    <button type="submit" class="btn text-white bg-thirdColor ms-auto" data-bs-toggle="modal"
                      data-bs-target="#estudianteRegistro" class="btn-close" data-bs-dismiss="modal">Crear Nueva
                      Cuenta</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal fade" id="estudianteRegistro" tabindex="-1" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Registro de Estudiantes</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form class="form" id="estudianteForm">
                      <div class="mb-3 row">
                        <div class="col-sm-12">
                          <input class="form-control" type="email" placeholder="Ingrese su correo" name="email" id="email">
                        </div>
                      </div>
                      <div class="mb-3 row">
                        <div class="col-sm-12">
                          <input class="form-control" type="password" placeholder="Ingrese su contraseña" name="password" id="password">
                        </div>
                      </div>
                      <button type="submit" class="btn text-white bg-thirdColor ms-auto ">Ingresar</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100">
            <a data-bs-toggle="modal" data-bs-target="#docenteLogin">
              <div class="card-body">
                <h5 class="card-title">
                  Docente</h5>
                <p class="card-text">
                  <ion-icon name="briefcase-outline" size="large"></ion-icon>
                </p>
              </div>
            </a>
            <div class="modal fade" id="docenteLogin" tabindex="-1" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Área de Docentes</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="">
                      <div class="mb-3 row">
                        <div class="col-sm-12">
                          <input class="form-control" type="email" placeholder="Ingrese su correo">
                        </div>
                      </div>
                      <div class="mb-3 row">
                        <div class="col-sm-12">
                          <input class="form-control" type="password" placeholder="Ingrese su contraseña">
                        </div>
                      </div>
                      <button type="submit" class="btn text-white bg-thirdColor ms-auto ">Ingresar</button>
                    </form>
                  </div>
                  <div class="modal-footer">
                    ¿Aún no tienes cuenta?
                    <button type="submit" class="btn text-white bg-thirdColor ms-auto ">Crear Nueva Cuenta</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100">
            <a data-bs-toggle="modal" data-bs-target="#coordinadorLogin">
              <div class="card-body">
                <h5 class="card-title">Coordinador</h5>
                <p class="card-text">
                  <ion-icon name="people-outline" size="large"></ion-icon>
                </p>
              </div>
            </a>
            <div class="modal fade" id="coordinadorLogin" tabindex="-1" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Área de Coordinadores</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="">
                      <div class="mb-3 row">
                        <div class="col-sm-12">
                          <input class="form-control" type="email" placeholder="Ingrese su correo">
                        </div>
                      </div>
                      <div class="mb-3 row">
                        <div class="col-sm-12">
                          <input class="form-control" type="password" placeholder="Ingrese su contraseña">
                        </div>
                      </div>
                      <button type="submit" class="btn text-white bg-thirdColor ms-auto ">Ingresar</button>
                    </form>
                  </div>
                  <div class="modal-footer">
                    ¿Aún no tienes cuenta?
                    <button type="submit" class="btn text-white bg-thirdColor ms-auto ">Crear Nueva Cuenta</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <%- include ('partials/footer.ejs') %>

    <script>
      /*const nombre = document.getElementById('nombre');
      const email = document.getElementById('email');
      const xd = document.getElementById('xd');
      (async () => {
        const response = await fetch('http://localhost:3000/api/v1/users/1');
        const data = await response.json();
        console.log(data);
        nombre.innerHTML = data.name;
        email.innerHTML = data.email;
        xd.innerHTML = data.role;
      })();*/

      const estudianteForm = document.getElementById('estudianteForm');

      estudianteForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = new FormData(estudianteForm);
        const formDataSerialized = Object.fromEntries(formData);
        console.log(formDataSerialized, "formDataSerialized");

          const response = await fetch('http://localhost:3000/api/v1/users', {
            method: 'POST',
            body: JSON.stringify(formDataSerialized),
            headers:{
              'Content-Type': 'application/json'
            },
          });
          const json = await response.json();
          console.log(json);

        
      });
    </script>
</body>

</html>